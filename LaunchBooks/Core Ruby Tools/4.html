<!DOCTYPE html>

<html lang="en-US">
<head>
<title>Launch School - Core Ruby Tools</title>
<meta charset="utf-8"/>
<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"4397c8ee4a","applicationID":"3024352","transactionName":"dw1YQRYMXlkBFBpXCVsJRRoWBlNR","queueTime":2,"applicationTime":92,"agent":""}</script>
<script type="text/javascript">(window.NREUM||(NREUM={})).init={ajax:{deny_list:["bam.nr-data.net"]}};(window.NREUM||(NREUM={})).loader_config={licenseKey:"4397c8ee4a",applicationID:"3024352"};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var i=e[n]={exports:{}};t[n][0].call(i.exports,function(e){var i=t[n][1][e];return r(i||e)},i,i.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var i=0;i<n.length;i++)r(n[i]);return r}({1:[function(t,e,n){function r(){}function i(t,e,n,r){return function(){return s.recordSupportability("API/"+e+"/called"),o(t+e,[u.now()].concat(c(arguments)),n?null:this,r),n?void 0:this}}var o=t("handle"),a=t(9),c=t(10),f=t("ee").get("tracer"),u=t("loader"),s=t(4),d=NREUM;"undefined"==typeof window.newrelic&&(newrelic=d);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",v=l+"ixn-";a(p,function(t,e){d[e]=i(l,e,!0,"api")}),d.addPageAction=i(l,"addPageAction",!0),d.setCurrentRouteName=i(l,"routeName",!0),e.exports=newrelic,d.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(t,e){var n={},r=this,i="function"==typeof e;return o(v+"tracer",[u.now(),t,n],r),function(){if(f.emit((i?"":"no-")+"fn-start",[u.now(),r,i],n),i)try{return e.apply(this,arguments)}catch(t){throw f.emit("fn-err",[arguments,this,t],n),t}finally{f.emit("fn-end",[u.now()],n)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){m[e]=i(v,e)}),newrelic.noticeError=function(t,e){"string"==typeof t&&(t=new Error(t)),s.recordSupportability("API/noticeError/called"),o("err",[t,u.now(),!1,e])}},{}],2:[function(t,e,n){function r(t){if(NREUM.init){for(var e=NREUM.init,n=t.split("."),r=0;r<n.length-1;r++)if(e=e[n[r]],"object"!=typeof e)return;return e=e[n[n.length-1]]}}e.exports={getConfiguration:r}},{}],3:[function(t,e,n){var r=!1;try{var i=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}catch(o){}e.exports=function(t){return r?{passive:!0,capture:!!t}:!!t}},{}],4:[function(t,e,n){function r(t,e){var n=[a,t,{name:t},e];return o("storeMetric",n,null,"api"),n}function i(t,e){var n=[c,t,{name:t},e];return o("storeEventMetrics",n,null,"api"),n}var o=t("handle"),a="sm",c="cm";e.exports={constants:{SUPPORTABILITY_METRIC:a,CUSTOM_METRIC:c},recordSupportability:r,recordCustom:i}},{}],5:[function(t,e,n){function r(){return c.exists&&performance.now?Math.round(performance.now()):(o=Math.max((new Date).getTime(),o))-a}function i(){return o}var o=(new Date).getTime(),a=o,c=t(11);e.exports=r,e.exports.offset=a,e.exports.getLastTimestamp=i},{}],6:[function(t,e,n){function r(t,e){var n=t.getEntries();n.forEach(function(t){"first-paint"===t.name?l("timing",["fp",Math.floor(t.startTime)]):"first-contentful-paint"===t.name&&l("timing",["fcp",Math.floor(t.startTime)])})}function i(t,e){var n=t.getEntries();if(n.length>0){var r=n[n.length-1];if(u&&u<r.startTime)return;var i=[r],o=a({});o&&i.push(o),l("lcp",i)}}function o(t){t.getEntries().forEach(function(t){t.hadRecentInput||l("cls",[t])})}function a(t){var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e)return e.type&&(t["net-type"]=e.type),e.effectiveType&&(t["net-etype"]=e.effectiveType),e.rtt&&(t["net-rtt"]=e.rtt),e.downlink&&(t["net-dlink"]=e.downlink),t}function c(t){if(t instanceof y&&!w){var e=Math.round(t.timeStamp),n={type:t.type};a(n),e<=v.now()?n.fid=v.now()-e:e>v.offset&&e<=Date.now()?(e-=v.offset,n.fid=v.now()-e):e=v.now(),w=!0,l("timing",["fi",e,n])}}function f(t){"hidden"===t&&(u=v.now(),l("pageHide",[u]))}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&NREUM.init.page_view_timing.enabled===!1)){var u,s,d,p,l=t("handle"),v=t("loader"),m=t(8),g=t(3),y=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){s=new PerformanceObserver(r);try{s.observe({entryTypes:["paint"]})}catch(h){}d=new PerformanceObserver(i);try{d.observe({entryTypes:["largest-contentful-paint"]})}catch(h){}p=new PerformanceObserver(o);try{p.observe({type:"layout-shift",buffered:!0})}catch(h){}}if("addEventListener"in document){var w=!1,b=["click","keydown","mousedown","pointerdown","touchstart"];b.forEach(function(t){document.addEventListener(t,c,g(!1))})}m(f)}},{}],7:[function(t,e,n){function r(t,e){if(!i)return!1;if(t!==i)return!1;if(!e)return!0;if(!o)return!1;for(var n=o.split("."),r=e.split("."),a=0;a<r.length;a++)if(r[a]!==n[a])return!1;return!0}var i=null,o=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var c=navigator.userAgent,f=c.match(a);f&&c.indexOf("Chrome")===-1&&c.indexOf("Chromium")===-1&&(i="Safari",o=f[1])}e.exports={agent:i,version:o,match:r}},{}],8:[function(t,e,n){function r(t){function e(){t(c&&document[c]?document[c]:document[o]?"hidden":"visible")}"addEventListener"in document&&a&&document.addEventListener(a,e,i(!1))}var i=t(3);e.exports=r;var o,a,c;"undefined"!=typeof document.hidden?(o="hidden",a="visibilitychange",c="visibilityState"):"undefined"!=typeof document.msHidden?(o="msHidden",a="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(o="webkitHidden",a="webkitvisibilitychange",c="webkitVisibilityState")},{}],9:[function(t,e,n){function r(t,e){var n=[],r="",o=0;for(r in t)i.call(t,r)&&(n[o]=e(r,t[r]),o+=1);return n}var i=Object.prototype.hasOwnProperty;e.exports=r},{}],10:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(i<0?0:i);++r<i;)o[r]=t[e+r];return o}e.exports=r},{}],11:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(t,e,n){function r(){}function i(t){function e(t){return t&&t instanceof r?t:t?u(t,f,a):a()}function n(n,r,i,o,a){if(a!==!1&&(a=!0),!l.aborted||o){t&&a&&t(n,r,i);for(var c=e(i),f=m(n),u=f.length,s=0;s<u;s++)f[s].apply(c,r);var p=d[w[n]];return p&&p.push([b,n,r,c]),c}}function o(t,e){h[t]=m(t).concat(e)}function v(t,e){var n=h[t];if(n)for(var r=0;r<n.length;r++)n[r]===e&&n.splice(r,1)}function m(t){return h[t]||[]}function g(t){return p[t]=p[t]||i(n)}function y(t,e){l.aborted||s(t,function(t,n){e=e||"feature",w[n]=e,e in d||(d[e]=[])})}var h={},w={},b={on:o,addEventListener:o,removeEventListener:v,emit:n,get:g,listeners:m,context:e,buffer:y,abort:c,aborted:!1};return b}function o(t){return u(t,f,a)}function a(){return new r}function c(){(d.api||d.feature)&&(l.aborted=!0,d=l.backlog={})}var f="nr@context",u=t("gos"),s=t(9),d={},p={},l=e.exports=i();e.exports.getOrSetContext=o,l.backlog=d},{}],gos:[function(t,e,n){function r(t,e,n){if(i.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(o){}return t[e]=r,r}var i=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){i.buffer([t],r),i.emit(t,e,n)}var i=t("ee").get("handle");e.exports=r,r.ee=i},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,o,function(){return i++})}var i=1,o="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!M++){var t=T.info=NREUM.info,e=m.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return u.abort();f(x,function(e,n){t[e]||(t[e]=n)});var n=a();c("mark",["onload",n+T.offset],null,"api"),c("timing",["load",n]);var r=m.createElement("script");0===t.agent.indexOf("http://")||0===t.agent.indexOf("https://")?r.src=t.agent:r.src=l+"://"+t.agent,e.parentNode.insertBefore(r,e)}}function i(){"complete"===m.readyState&&o()}function o(){c("mark",["domContent",a()+T.offset],null,"api")}var a=t(5),c=t("handle"),f=t(9),u=t("ee"),s=t(7),d=t(2),p=t(3),l=d.getConfiguration("ssl")===!1?"http":"https",v=window,m=v.document,g="addEventListener",y="attachEvent",h=v.XMLHttpRequest,w=h&&h.prototype,b=!1;NREUM.o={ST:setTimeout,SI:v.setImmediate,CT:clearTimeout,XHR:h,REQ:v.Request,EV:v.Event,PR:v.Promise,MO:v.MutationObserver};var E=""+location,x={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1216.min.js"},O=h&&w&&w[g]&&!/CriOS/.test(navigator.userAgent),T=e.exports={offset:a.getLastTimestamp(),now:a,origin:E,features:{},xhrWrappable:O,userAgent:s,disabled:b};if(!b){t(1),t(6),m[g]?(m[g]("DOMContentLoaded",o,p(!1)),v[g]("load",r,p(!1))):(m[y]("onreadystatechange",i),v[y]("onload",r)),c("mark",["firstbyte",a.getLastTimestamp()],null,"api");var M=0}},{}],"wrap-function":[function(t,e,n){function r(t,e){function n(e,n,r,f,u){function nrWrapper(){var o,a,s,p;try{a=this,o=d(arguments),s="function"==typeof r?r(o,a):r||{}}catch(l){i([l,"",[o,a,f],s],t)}c(n+"start",[o,a,f],s,u);try{return p=e.apply(a,o)}catch(v){throw c(n+"err",[o,a,v],s,u),v}finally{c(n+"end",[o,a,p],s,u)}}return a(e)?e:(n||(n=""),nrWrapper[p]=e,o(e,nrWrapper,t),nrWrapper)}function r(t,e,r,i,o){r||(r="");var c,f,u,s="-"===r.charAt(0);for(u=0;u<e.length;u++)f=e[u],c=t[f],a(c)||(t[f]=n(c,s?f+r:r,i,f,o))}function c(n,r,o,a){if(!v||e){var c=v;v=!0;try{t.emit(n,r,o,e,a)}catch(f){i([f,n,r,o],t)}v=c}}return t||(t=s),n.inPlace=r,n.flag=p,n}function i(t,e){e||(e=s);try{e.emit("internal-error",t)}catch(n){}}function o(t,e,n){if(Object.defineProperty&&Object.keys)try{var r=Object.keys(t);return r.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(o){i([o],n)}for(var a in t)l.call(t,a)&&(e[a]=t[a]);return e}function a(t){return!(t&&t instanceof Function&&t.apply&&!t[p])}function c(t,e){var n=e(t);return n[p]=t,o(t,n,s),n}function f(t,e,n){var r=t[e];t[e]=c(r,n)}function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;++n)e[n]=arguments[n];return e}var s=t("ee"),d=t(10),p="nr@original",l=Object.prototype.hasOwnProperty,v=!1;e.exports=r,e.exports.wrapFunction=c,e.exports.wrapInPlace=f,e.exports.argsToArray=u},{}]},{},["loader"]);</script>
<meta content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0" name="viewport"/>
<meta content="Launch School - Core Ruby Tools" name="description"/>
<meta content="authenticity_token" name="csrf-param">
<meta content="8SmsV1-WHdanJ00rmQL_8pZ3QcnD9G9LVX04SJv7eRmrBqkO9kwYwYiPCtjMoSq2pLgzxHaJn79VeI0aMnj85A" name="csrf-token">
<link data-turbolinks-track="reload" href="https://d24f1whwu8r3u4.cloudfront.net/assets/application-958ee63fc3d7b77b57e2b9a26384b2c0bfae90b16b16ab02ea06adc403b32aea.css" rel="stylesheet"/>
<link data-turbolinks-track="reload" href="//fonts.googleapis.com/css?family=Crete+Round:400,400italic|Open+Sans" rel="stylesheet"/>
<link data-turbolinks-track="reload" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" rel="stylesheet"/>
<link href="//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.css" rel="stylesheet"/>
<script src="https://d24f1whwu8r3u4.cloudfront.net/assets/vendor/modernizr-ac2af8c263141f7f26a6aa40e1649abac00c427153f7ff3df531b497e20eaa3c.js"></script>
<script data-turbolinks-track="reload" debug="false" src="https://d24f1whwu8r3u4.cloudfront.net/assets/application-797a58cc27679417c9511628bb420d55528c644fc7870cb99a301ab3ddedd504.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
<script data-turbolinks-track="reload" src="//use.typekit.net/ojn6sam.js"></script>
<script>
  try{Typekit.load({ async: true });}catch(e){}
</script>
<script data-turbolinks-track="reload" src="https://js.stripe.com/v2/"></script>
<script>
  Stripe.setPublishableKey("pk_live_hj1Wdd0CL2psFAzlEAhQF4aB");
</script>
<link data-turbolinks-track="reload" href="https://d24f1whwu8r3u4.cloudfront.net/favicon.ico" rel="icon" type="image/x-icon"/>
<link href="/apple-touch-icon-57x57.png" rel="apple-touch-icon" sizes="57x57"/>
<link href="/apple-touch-icon-60x60.png" rel="apple-touch-icon" sizes="60x60"/>
<link href="/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72"/>
<link href="/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76"/>
<link href="/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114"/>
<link href="/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120"/>
<link href="/apple-touch-icon-144x144.png" rel="apple-touch-icon" sizes="144x144"/>
<link href="/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152"/>
<link href="/apple-touch-icon-180x180.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="/favicon-194x194.png" rel="icon" sizes="194x194" type="image/png"/>
<link href="/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
<link href="/android-chrome-192x192.png" rel="icon" sizes="192x192" type="image/png"/>
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="/manifest.json" rel="manifest"/>
<link color="#F25858" href="/safari-pinned-tab.svg" rel="mask-icon"/>
<meta content="#45494d" name="msapplication-TileColor"/>
<meta content="/mstile-144x144.png" name="msapplication-TileImage"/>
<meta content="#ffffff" name="theme-color"/>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  
  ga('create', 'UA-37357872-2', 'auto', {'name': 'secondtracker'});
  ga('secondtracker.require', 'displayfeatures');
  ga('secondtracker.require', 'linkid', 'linkid.js');
  ga('secondtracker.send', 'pageview');
</script>
</meta></meta></head>
<body class="read-page has-footer preload external books">
<div class="contain-to-grid">
<nav class="top-bar hide-for-large-up" data-options="is_hover: false; mobile_show_parent_link: false" data-topbar="" role="navigation">
<ul class="title-area">
<li class="name">
<h1>
<a href="/"><img height="25" src="https://d24f1whwu8r3u4.cloudfront.net/assets/launch-logo-dark-background-1ff11e650ee03d9472e82f97577ae5abcb137e2562f985c87b6f9b60ee0f3027.svg" width="120"/>
</a></h1>
</li>
<li class="toggle-topbar menu-icon">
<a href="#">
<span>Menu</span>
</a>
</li>
</ul>
<section class="top-bar-section">
<ul class="right">
<li class="has-dropdown">
<a class="" href="/pedagogy">Pedagogy</a>
<ul class="dropdown" style="margin-bottom: 0 !important">
<li>
<a class="" href="/pedagogy">Overview</a>
</li>
<li>
<a class="" href="/mastery">Mastery-based Learning</a>
</li>
</ul>
</li>
<li><a class="" href="/results">Salaries</a></li>
<li class="has-dropdown">
<a class="" href="/employers">Employers
</a><ul class="dropdown" style="margin-bottom: 0 !important">
<li class="">
<a class="" href="/employers">Employers</a>
</li>
<li class="">
<a class="" href="/employers/placement">Capstone Placement</a>
</li>
</ul>
</li>
<li><a class="" href="/deferred">Deferred Payment</a></li>
<li class="has-dropdown">
<a class="" href="/is_this_for_me">For Students</a>
<ul class="dropdown" style="margin-bottom: 0 !important">
<li>
<a class="" href="/is_this_for_me">Is This For Me?</a>
</li>
<li>
<a class="" href="/faq">Common Questions</a>
</li>
<li>
<a class="" href="/student_experience">The Student Experience</a>
</li>
<li>
<a class="" href="/courses">Core Curriculum</a>
</li>
<li>
<a class="" href="/capstone">Capstone</a>
</li>
</ul>
</li>
<li><a class="" href="/love">Love</a></li>
<li>
<a class="" href="/sign_in">Sign In</a>
</li>
<li>
<a class="" href="/sign_up">Sign Up</a>
</li>
</ul>
</section>
</nav>
</div>
<div class="contain-to-grid">
<div class="row">
<div class="columns small-12">
<header class="full-width-background" id="header" style="background: white;">
<div class="row show-for-large-up">
<div class="columns small-12 clearfix">
<h1 id="logo">
<a class="ir" href="/">LaunchSchool: An online school for Software Engineers</a>
</h1>
<nav class="nav left">
<ul>
<li class="has-dropdown">
<a class="" href="/pedagogy">Pedagogy
<small><i class="fa fa-chevron-down"></i></small>
</a><ul>
<li class="">
<a class="" href="/pedagogy">Overview</a>
</li>
<li class="">
<a class="" href="/mastery">Mastery-based Learning</a>
</li>
</ul>
</li>
<li><a class="" href="/results">Salaries</a></li>
<li class="has-dropdown">
<a class="" href="/employers">Employers
<small><i class="fa fa-chevron-down"></i></small>
</a><ul>
<li class="">
<a class="" href="/employers">Employers</a>
</li>
<li class="">
<a class="" href="/employers/placement">Capstone Placement</a>
</li>
</ul>
<li><a class="" href="/deferred">Deferred Payment</a></li>
</li>
<li class="has-dropdown">
<a class="" href="/is_this_for_me">For Students
<small><i class="fa fa-chevron-down"></i></small>
</a><ul>
<li class="">
<a class="" href="/is_this_for_me">Is This For Me?</a>
</li>
<li class="">
<a class="" href="/faq">Common Questions</a>
</li>
<li class="">
<a class="" href="/student_experience">The Student Experience</a>
</li>
<li class="">
<a class="" href="/courses">Core Curriculum</a>
</li>
<li class="">
<a class="" href="/capstone">Capstone</a>
</li>
</ul>
</li>
<li>
<a class="" href="/love"><i aria-hidden="" class="fa fa-heart fa-lg"></i>
</a></li>
</ul>
</nav>
<nav class="nav">
<ul>
<li>
<a class="" href="/sign_in">Sign In</a>
</li>
<li>
<a class="" href="/sign_up" id="sign-up-button">Sign Up</a>
</li>
</ul>
</nav>
</div>
</div>
<div class="row">
<div class="columns small-12 clearfix">
</div>
</div>
</header>
</div>
</div>
</div>
<div class="wrapper bookshelf">
<div class="row">
<div class="columns small-12">
<div class="page-action-buttons clearfix">
<div class="left">
</div>
<div class="right">
<button class="hide-for-large-up" data-toggle-side-menu="" title="Show table of contents">
<i class="fa fa-list-ul"></i>
</button>
</div>
</div>
</div>
</div>
<nav class="table-of-contents side-menu hide">
<h1>Table of Contents</h1>
<button class="close"></button>
<ul class="chapters">
<li>
<span><a href="/books">Open Bookshelf</a></span>
<span><a href="/books/core_ruby_tools">Cover Page</a></span>
</li>
<li>
<span>Preface</span>
<ul class="topics">
<li class="chapter_title">
<a href="/books/core_ruby_tools/read/credits"><span>Credits</span>
</a></li>
<li class="chapter_title">
<a href="/books/core_ruby_tools/read/copyright"><span>Copyright</span>
</a></li>
<li class="chapter_title">
<a href="/books/core_ruby_tools/read/no_download"><span>No Offline Access?</span>
</a></li>
</ul>
</li>
<li>
<span>Introduction to Core Ruby Tools</span>
<ul class="topics">
<li class="chapter_title">
<a href="/books/core_ruby_tools/read/introduction"><span>Introduction</span>
</a></li>
<li class="chapter_title">
<a class="chapter_title" href="/books/core_ruby_tools/read/your_ruby_installation"><span class="chapter_title">Your Ruby Installation</span>
</a></li>
<div class="sub_topics" style="display:none">
<ul>
<li>
<a href="/books/core_ruby_tools/read/your_ruby_installation#rubyoncloud9"><span>Ruby on Cloud9</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/your_ruby_installation#rubyonmacs"><span>Ruby on a Mac</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/your_ruby_installation#rubyonlinux"><span>Ruby on Linux</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/your_ruby_installation#whatrubyamirunning"><span>What Ruby Am I Running?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/your_ruby_installation#whatgetsinstalledwithruby"><span>What Gets Installed With Ruby?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/your_ruby_installation#summary"><span>Summary</span>
</a></li>
</ul>
</div>
<li class="chapter_title">
<a class="chapter_title" href="/books/core_ruby_tools/read/gems"><span class="chapter_title">Gems</span>
</a></li>
<div class="sub_topics" style="display:none">
<ul>
<li>
<a href="/books/core_ruby_tools/read/gems#whataregems"><span>What are Gems?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/gems#gemsrubyandyourcomputer"><span>Gems, Ruby, and your Computer</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/gems#summary"><span>Summary</span>
</a></li>
</ul>
</div>
<li class="chapter_title">
<a class="chapter_title" href="/books/core_ruby_tools/read/ruby_version_managers"><span class="chapter_title">Ruby Version Managers</span>
</a></li>
<div class="sub_topics" style="display:none">
<ul>
<li>
<a href="/books/core_ruby_tools/read/ruby_version_managers#whatarervms"><span>What Are Ruby Version Managers?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/ruby_version_managers#whichrvm"><span>Which Ruby Version Manager Should I Use?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/ruby_version_managers#rvm"><span>RVM</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/ruby_version_managers#rbenv"><span>rbenv</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/ruby_version_managers#summary"><span>Summary</span>
</a></li>
</ul>
</div>
<li class="open active chapter_title">
<a class="chapter_title" href="/books/core_ruby_tools/read/bundler"><span class="chapter_title">Bundler</span>
</a></li>
<div class="sub_topics" style="">
<ul>
<li>
<a href="/books/core_ruby_tools/read/bundler#installingbundler"><span>Installing Bundler</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#gemfile"><span>Gemfile and Gemfile.lock</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#runningappswithbundler"><span>Running Apps With Bundler</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#wherearerubiesgemsapps"><span>Where Are My Rubies, Gems and Apps Now?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#bundleexec"><span>bundle exec</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#whenthingsgowrong"><span>When Things Go Wrong</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#moreinfobundler"><span>More Info About Bundler</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#summary"><span>Summary</span>
</a></li>
</ul>
</div>
<li class="chapter_title">
<a class="chapter_title" href="/books/core_ruby_tools/read/rake"><span class="chapter_title">Rake</span>
</a></li>
<div class="sub_topics" style="display:none">
<ul>
<li>
<a href="/books/core_ruby_tools/read/rake#whatisrake"><span>What Is Rake?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/rake#howtouserake"><span>How Do You Use Rake?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/rake#whyrake"><span>Why Do I Need Rake?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/rake#realworldexample"><span>A Real World Example</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/rake#whenthingsgowrong"><span>When Things Go Wrong</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/rake#summary"><span>Summary</span>
</a></li>
</ul>
</div>
<li class="chapter_title">
<a class="chapter_title" href="/books/core_ruby_tools/read/conclusion"><span class="chapter_title">Conclusion</span>
</a></li>
<div class="sub_topics" style="display:none">
<ul>
<li>
<a href="/books/core_ruby_tools/read/conclusion#relationships"><span>Relationships</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/conclusion#usefullinks"><span>Useful Links</span>
</a></li>
</ul>
</div>
</ul>
</li>
<li>
<span>Share on</span>
<section id="share_on">
<ul>
<li class="twitter">
<a href="https://twitter.com/intent/tweet?text=&amp;url=https://launchschool.com/books/core_ruby_tools/read/bundler&amp;via=launchschool">
<i class="fa fa-twitter"></i>
</a>
</li>
<li class="linkedin">
<a href="https://www.linkedin.com/cws/share?url=https://launchschool.com/books/core_ruby_tools/read/bundler" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">
<i class="fa fa-linkedin"></i>
</a>
</li>
</ul>
</section>
</li>
</ul>
</nav>
<div class="close-side-menu hide"></div>
<section class="content clearfix">
<div class="row">
<div class="columns small-12" id="flash-message">
</div>
</div>
<div class="row">
<div class="columns small-12">
<div id="read-book">
<div class="navigate-back">
<a href="/books"><i class="fa fa-chevron-left"></i>
Back to Open Book Shelf
</a></div>
<div class="row">
<div class="columns large-3 show-for-large-up">
<div class="table-of-contents">
<ul class="chapters">
<li>
<span><a href="/books">Open Bookshelf</a></span>
<span><a href="/books/core_ruby_tools">Cover Page</a></span>
</li>
<li>
<span>Preface</span>
<ul class="topics">
<li class="chapter_title">
<a href="/books/core_ruby_tools/read/credits"><span>Credits</span>
</a></li>
<li class="chapter_title">
<a href="/books/core_ruby_tools/read/copyright"><span>Copyright</span>
</a></li>
<li class="chapter_title">
<a href="/books/core_ruby_tools/read/no_download"><span>No Offline Access?</span>
</a></li>
</ul>
</li>
<li>
<span>Introduction to Core Ruby Tools</span>
<ul class="topics">
<li class="chapter_title">
<a href="/books/core_ruby_tools/read/introduction"><span>Introduction</span>
</a></li>
<li class="chapter_title">
<a class="chapter_title" href="/books/core_ruby_tools/read/your_ruby_installation"><span class="chapter_title">Your Ruby Installation</span>
</a></li>
<div class="sub_topics" style="display:none">
<ul>
<li>
<a href="/books/core_ruby_tools/read/your_ruby_installation#rubyoncloud9"><span>Ruby on Cloud9</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/your_ruby_installation#rubyonmacs"><span>Ruby on a Mac</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/your_ruby_installation#rubyonlinux"><span>Ruby on Linux</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/your_ruby_installation#whatrubyamirunning"><span>What Ruby Am I Running?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/your_ruby_installation#whatgetsinstalledwithruby"><span>What Gets Installed With Ruby?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/your_ruby_installation#summary"><span>Summary</span>
</a></li>
</ul>
</div>
<li class="chapter_title">
<a class="chapter_title" href="/books/core_ruby_tools/read/gems"><span class="chapter_title">Gems</span>
</a></li>
<div class="sub_topics" style="display:none">
<ul>
<li>
<a href="/books/core_ruby_tools/read/gems#whataregems"><span>What are Gems?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/gems#gemsrubyandyourcomputer"><span>Gems, Ruby, and your Computer</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/gems#summary"><span>Summary</span>
</a></li>
</ul>
</div>
<li class="chapter_title">
<a class="chapter_title" href="/books/core_ruby_tools/read/ruby_version_managers"><span class="chapter_title">Ruby Version Managers</span>
</a></li>
<div class="sub_topics" style="display:none">
<ul>
<li>
<a href="/books/core_ruby_tools/read/ruby_version_managers#whatarervms"><span>What Are Ruby Version Managers?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/ruby_version_managers#whichrvm"><span>Which Ruby Version Manager Should I Use?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/ruby_version_managers#rvm"><span>RVM</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/ruby_version_managers#rbenv"><span>rbenv</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/ruby_version_managers#summary"><span>Summary</span>
</a></li>
</ul>
</div>
<li class="open active chapter_title">
<a class="chapter_title" href="/books/core_ruby_tools/read/bundler"><span class="chapter_title">Bundler</span>
</a></li>
<div class="sub_topics" style="">
<ul>
<li>
<a href="/books/core_ruby_tools/read/bundler#installingbundler"><span>Installing Bundler</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#gemfile"><span>Gemfile and Gemfile.lock</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#runningappswithbundler"><span>Running Apps With Bundler</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#wherearerubiesgemsapps"><span>Where Are My Rubies, Gems and Apps Now?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#bundleexec"><span>bundle exec</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#whenthingsgowrong"><span>When Things Go Wrong</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#moreinfobundler"><span>More Info About Bundler</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/bundler#summary"><span>Summary</span>
</a></li>
</ul>
</div>
<li class="chapter_title">
<a class="chapter_title" href="/books/core_ruby_tools/read/rake"><span class="chapter_title">Rake</span>
</a></li>
<div class="sub_topics" style="display:none">
<ul>
<li>
<a href="/books/core_ruby_tools/read/rake#whatisrake"><span>What Is Rake?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/rake#howtouserake"><span>How Do You Use Rake?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/rake#whyrake"><span>Why Do I Need Rake?</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/rake#realworldexample"><span>A Real World Example</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/rake#whenthingsgowrong"><span>When Things Go Wrong</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/rake#summary"><span>Summary</span>
</a></li>
</ul>
</div>
<li class="chapter_title">
<a class="chapter_title" href="/books/core_ruby_tools/read/conclusion"><span class="chapter_title">Conclusion</span>
</a></li>
<div class="sub_topics" style="display:none">
<ul>
<li>
<a href="/books/core_ruby_tools/read/conclusion#relationships"><span>Relationships</span>
</a></li>
<li>
<a href="/books/core_ruby_tools/read/conclusion#usefullinks"><span>Useful Links</span>
</a></li>
</ul>
</div>
</ul>
</li>
<li>
<span>Share on</span>
<section id="share_on">
<ul>
<li class="twitter">
<a href="https://twitter.com/intent/tweet?text=&amp;url=https://launchschool.com/books/core_ruby_tools/read/bundler&amp;via=launchschool">
<i class="fa fa-twitter"></i>
</a>
</li>
<li class="linkedin">
<a href="https://www.linkedin.com/cws/share?url=https://launchschool.com/books/core_ruby_tools/read/bundler" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">
<i class="fa fa-linkedin"></i>
</a>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
<div class="columns large-8 end">
<div class="chapter-contents">
<div class="tealeaf-markup"><h1>Bundler</h1>
<p>Dealing with dependencies -- multiple versions of Ruby and multiple versions of Gems -- is a significant issue in Ruby. A project may need a Ruby version that differs from your default Ruby. Even if it requires the same version of Ruby, it may need a different version of a RubyGem.</p>
<p>This problem is not unique to Ruby; dependency issues arise in all languages. The techniques used to deal with the dilemma differ with each language. In Ruby, most developers use a Ruby version manager such as RVM or rbenv to manage multiple Ruby versions. You can also use your version manager to manage Gem dependencies, but the favored approach is to use a <strong>dependency manager</strong>.</p>
<p>The most widely used dependency manager in the Ruby community, by far, is the Bundler Gem. This Gem lets you configure which Ruby and which Gems each of your projects need.</p>
<div class="alert-box info">
<p>In this chapter, we use the term <strong>app</strong> or <strong>application</strong> to refer to any Ruby code that you run or use with Bundler. Note that this includes Gems that you develop yourself, as well as full-blown applications.</p>
</div>
<h2><a href="#installingbundler" name="installingbundler">Installing Bundler</a></h2>
<div class="alert-box info">
<p>You can skip this section if you're using Ruby version 2.5 or higher: recent versions of Ruby install Bundler automatically.</p>
</div>
<p>Bundler is a Gem, so you must use the <code>gem</code> command to install it. If you use a Ruby version manager, you must install the Gem in each version of Ruby for which you wish to use Bundler. After switching to the appropriate Ruby you wish to use, use this command to install the Bundler Gem:</p>
<pre class="language-terminal" data-numbers="off"><code class="language-terminal">$ gem install bundler
</code></pre>
<p>That's all there is to it.</p>
<h2><a href="#gemfile" name="gemfile">Gemfile and Gemfile.lock</a></h2>
<p>Bundler relies on a file named <code>Gemfile</code> to tell it which version of Ruby and its Gems it should use. This file is a simple Ruby program that uses a Domain Specific Language (DSL) to provide details about the Ruby and Gem versions. It's the configuration or instruction file for Bundler.</p>
<p>After you create <code>Gemfile</code>, the <code>bundle install</code> command scans it, downloads and installs all the dependencies listed, and produces a <code>Gemfile.lock</code> file. <code>Gemfile.lock</code> shows all the dependencies for your program; this includes the Gems listed in <code>Gemfile</code>, as well as the Gems they depend on (the dependencies), which may not be explicitly listed in the <code>Gemfile</code>. It's very common for RubyGems you install for use in your project to rely on many other gems, creating a large dependency tree.</p>
<p>Lets examine a simple example. Suppose you are writing a program that requires Ruby 2.3.1 and the <code>sinatra</code>, <code>erubis</code>, and <code>rack</code> Gems. Our <code>Gemfile</code> incorporates these dependencies, and looks like this:</p>
<pre class="language-ruby" data-numbers="off"><code class="language-ruby">source 'https://rubygems.org'

ruby '2.3.1'
gem 'sinatra'
gem 'erubis'
gem 'rack'
gem 'rake', '~&gt;10.4.0'
</code></pre>
<p>Furthermore, our ruby installation looks like Figure 5:</p>
<p><strong>Figure 5</strong></p>
<pre class="language-terminal" data-numbers="off"><code class="language-terminal">$ tree /usr/local/rvm # the following is partial output
/usr/local/rvm # RVM path directory
└── gems
    ├── ruby-2.2.2
    └── ruby-2.3.1
        ├── bin
        │   ├── bundle
        │   └── rubocop
        └── gems
            ├── erubis-2.7.0
            ├── rack-1.6.4
            ├── rack-protection-1.5.3
            ├── rake-10.4.2
            ├── rake-11.3.0
            ├── sinatra-1.4.6
            ├── sinatra-1.4.7
            └── tilt-2.0.5
</code></pre>
<p>We now run:</p>
<pre class="language-terminal" data-numbers="off"><code class="language-terminal">$ bundle install
</code></pre>
<p>to install the specified Gems (if needed) and create a <code>Gemfile.lock</code>, which looks like this:</p>
<pre class="language-plaintext" data-numbers="off"><code class="language-plaintext">GEM
  remote: https://RubyGems.org/
  specs:
    erubis (2.7.0)
    rack (1.6.4)
    rack-protection (1.5.3)
      rack
    rake (10.4.2)
    sinatra (1.4.7)
      rack (~&gt; 1.5)
      rack-protection (~&gt; 1.4)
      tilt (&gt;= 1.3, &lt; 3)
    tilt (2.0.5)

PLATFORMS
  ruby

DEPENDENCIES
  erubis
  rack
  rake (~&gt; 10.4.0)
  sinatra

RUBY VERSION
   ruby 2.3.1p112

BUNDLED WITH
   1.13.6
</code></pre>
<div class="alert-box info">
<p>Note that the Gem is named Bundler, but the command you use is <code>bundle</code> (without the <code>r</code>). Actually, <code>bundle</code> and <code>bundler</code> are aliases: either works, but most documentation uses <code>bundle</code>.</p>
</div>
<p>The <code>specs</code> section under the <code>GEM</code> heading provides a list of the Gems (and their versions) that your app will load. Beneath each listed Gem is a list of <em>the Gem's</em> dependencies; that is, the Gems and versions it needs to work. Here, we can see that:</p>
<ul>
<li>  We have <code>sinatra</code> version 1.4.7. Note that we chose 1.4.7 over 1.4.6. Bundler won't always choose the latest version like this. It will choose a version that works in conjunction with the other dependencies.
</li>
<li> <code>sinatra</code> requires <code>rack</code> (version &gt;= 1.5.0 and &lt; 2.0.0); we have version 1.6.4.
</li>
<li> <code>sinatra</code> requires <code>rack-protection</code> (version &gt;= 1.4.0 and &lt; 2.0.0); we have version 1.5.3.
</li>
<li> <code>sinatra</code> requires <code>tilt</code> (versions &gt;= 1.3.0 and &lt; 3.0.0); we have version 2.0.5
</li>
</ul>
<p>We didn't have to provide any information about <code>rack-protection</code> and <code>tilt</code> in our <code>Gemfile</code>; Bundler found this information on its own by examining the <code>Gemfile</code>s for those Gems -- that is, not our application's <code>Gemfile</code>, but the <code>Gemfile</code> that came with the Gems specified in our <code>Gemfile</code>. It then added the information to our <code>Gemfile.lock</code>.</p>
<p>If you're interested in even more details about how the <code>Gemfile</code> works, see the <a href="http://bundler.io/docs.html">Bundler documentation</a> for more information on how to construct a <code>Gemfile</code>.</p>
<h2><a href="#runningappswithbundler" name="runningappswithbundler">Running Apps With Bundler</a></h2>
<p>Once Bundler creates your <code>Gemfile.lock</code>, add:</p>
<pre class="language-ruby" data-numbers="off"><code class="language-ruby">require 'bundler/setup'
</code></pre>
<p>to the beginning of your app, before any other Gems. (This is unneeded if your app is a Rails app).</p>
<p><code>bundler/setup</code> first removes all Gem directories from Ruby's <code>$LOAD_PATH</code> global array. Ruby uses <code>$LOAD_PATH</code> to list the directories that it searches when it needs to locate a required file. When <code>bundler/setup</code> removes those directories from <code>$LOAD_PATH</code>, Ruby can no longer find Gems.</p>
<p>To fix this, <code>bundler/setup</code> reads <code>Gemfile.lock</code>; for each Gem listed, it adds the directory that contains that Gem back to <code>$LOAD_PATH</code>. When finished, <code>require</code> only finds the proper versions of each Gem. This ensures that the specific Gem and version your app depends on is loaded, and not a conflicting version of that Gem.</p>
<p>Now, all you need to do is run your app and the correct Gem will be loaded when you <code>require</code> files.</p>
<div class="alert-box info">
<p>You may see some advice to add:</p>
<pre class="language-ruby" data-numbers="off"><code class="language-ruby">require 'rubygems'
</code></pre>
<p>to your apps. However, <a href="http://guides.rubygems.org/patterns/#requiring-rubygems">this is unnecessary</a>. This statement is a holdover from the days before RubyGems became an official part of Ruby; Ruby now provides this functionality automatically.</p>
</div>
<h2><a href="#wherearerubiesgemsapps" name="wherearerubiesgemsapps">Where Are My Rubies, Gems and Apps Now?</a></h2>
<p>Bundler does not interfere with your Rubies nor their Gems. They remain where they were before you installed Bundler, and will continue to use the same setup in the future. This means that you can still use <code>gem env</code>, <code>rvm info</code>, and <code>rbenv version</code> and other informational commands to find information you may need.</p>
<p>However, Bundler provides a feature called <code>binstubs</code>; if you use this feature, you may have to add some directories to your <code>PATH</code>. The <code>gem env</code> and <code>rvm info</code> commands will reflect this.</p>
<div class="alert-box info">
<p>The Bundler development team has taken great care to work with Ruby version managers to ensure things still work as expected. Once in a while, you might experience some odd issue, especially after upgrading your Ruby version manager. These issues are usually resolved quickly by the Ruby community.</p>
</div>
<h2><a href="#bundleexec" name="bundleexec">bundle exec</a></h2>
<p>As we saw earlier, an app that relies on Bundler should <code>require</code> the <code>bundler/setup</code> package before it loads any Gems. This package ensures that the app loads the desired Gems.</p>
<p>Unfortunately, you will surely encounter situations where you can't just add <code>require 'bundler/setup'</code> to the code, or the program itself may run code that has conflicting needs. When this happens, you need the often mysterious <code>bundle exec</code> command.</p>
<p>You can use <code>bundle exec</code> to run most any command in an environment that conforms to the <code>Gemfile.lock</code> versioning info. In fact, we can use this feature to see how <code>bundle exec</code> modifies your environment:</p>
<pre class="language-terminal" data-numbers="off"><code class="language-terminal"># This command compares the output of 'bundle exec env' with the output of 'env'

$ diff &lt;(bundle exec env) &lt;(env)
&lt; PATH=/usr/local/rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/bin:/usr/local/rbenv/versions/2.3.1/bin:/usr/local/Cellar/rbenv/1.0.0/libexec:/usr/local/rbenv/shims:...
---
&gt; PATH=/usr/local/rbenv/shims:...
&lt; RBENV_HOOK_PATH=/usr/local/rbenv/rbenv.d:/usr/local/Cellar/rbenv/1.0.0/rbenv.d:/usr/local/etc/rbenv.d:/etc/rbenv.d:/usr/lib/rbenv/hooks:/usr/local/rbenv/plugins/rbenv-default-gems/etc/rbenv.d
&lt; RBENV_DIR=/Users/wolfy/my_app
&lt; RUBYLIB=/usr/local/rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/bundler-1.13.6/lib:/usr/local/Cellar/rbenv/1.0.0/rbenv.d/exec/gem-rehash
&lt; RBENV_VERSION=2.3.1
&lt; BUNDLE_BIN_PATH=/usr/local/rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/bundler-1.13.6/exe/bundle
&lt; BUNDLE_GEMFILE=/Users/wolfy/my_app/Gemfile
&lt; RUBYOPT=-rbundler/setup
</code></pre>
<p>(The above shows partial output only.) As you can see, the two commands produce different results; this output shows the modifications and additions that <code>bundle exec</code> makes to your environment.</p>
<p>Of special importance is the <code>RUBYOPT</code> value: this tells Ruby to <code>require 'bundler/setup'</code> (recall that <code>'bundle'</code> and <code>'bundler'</code> are aliases) before it starts running your code. This lets Bundler gain control in time to configure things so that the app loads the proper Gems, and only those Gems.</p>
<h3>When Should You Use <code>bundle exec</code>?</h3>
<p>We use it above with <code>env</code> primarily to demonstrate what <code>bundle exec</code> does. Using <code>bundle exec</code> with a non-Ruby command is rare, though. You usually use <code>bundle exec</code> with commands written in Ruby and installed as Gems, e.g., Rake, Pry, and Rackup. But, exactly when would one need to use it?</p>
<p>We use it to resolve dependency conflicts when issuing shell commands. From time to time, you may encounter an error message that looks like this:</p>
<pre class="language-plaintext" data-numbers="off"><code class="language-plaintext">Gem::LoadError: You have already activated rake 11.3.0, but your Gemfile requires rake 10.4.2. Prepending `bundle exec` to your command may solve this.
</code></pre>
<p>This error usually appears when you use a Gem command whose version differs from the Gem version in your <code>Gemfile</code>. For example, let's say your default version of <code>rake</code> is version 11.3.0, but you're in a directory where the <code>Gemfile</code> wants version 10.4.2. This is the situation in Figure 5 and our <code>Gemfile</code>.</p>
<p>When you run <code>rake</code> from the command line, your system will find and execute <code>rake</code> version 11.3.0; your shell doesn't know about <code>Gemfile</code>s, so it just invokes the version of <code>rake</code> it finds in the <code>PATH</code>.</p>
<p>However, <code>rake</code> sometimes runs code that Bundler manages but isn't part of <code>rake</code>, and that's where things get ugly. When that code runs, it checks your <code>Gemfile.lock</code>, and sees that it needs <code>rake</code> 10.4.2, so it tries to load and run it. Unfortunately, <code>rake</code> is already running, but it is version 11.3.0. Since you can't run two versions of <code>rake</code> in the same process, the <code>require</code> fails with a <code>LoadError</code>.</p>
<div class="alert-box info">
<p>Don't worry if your head is suddenly spinning; you don't need to understand why the error occurs. What's important is that you understand the fix, which we'll discuss next.</p>
</div>
<p>Fortunately, the solution is easy: the error message tells you what to do. All you have to do is run the command with <code>bundle exec</code>:</p>
<pre class="language-terminal" data-numbers="off"><code class="language-terminal">$ bundle exec rake
</code></pre>
<p>This changes the environment so that <code>rake</code> 10.4.2 runs instead of your system default, 11.3.0; now, when <code>rake</code> runs the external code, Bundler sees that you are already running 10.4.2, so everything is okay, and execution continues.</p>
<p>Discrepancies with <code>rake</code> and other executables are the main reason to use <code>bundle exec</code>; it's easy to find advice that says "always use <code>bundle exec rake</code>", and this is good advice. However, this problem can happen with other commands as well. Any Gem command that requires other Gems may load a Gem that conflicts with your app's requirements. <code>bundle exec</code> is the easiest way to fix this issue.</p>
<h3><code>binstubs</code></h3>
<p>Earlier, we mentioned the <code>binstubs</code> feature. <code>binstubs</code> is an alternative to using <code>bundle exec</code>. It sets up a directory of short Ruby scripts (wrappers) with the same names as executables installed by your Gems. By default, <code>binstubs</code> names this directory as <code>bin</code>, but you should override that if your app also needs a <code>bin</code> directory of its own.</p>
<p>The scripts in the <code>binstubs</code>-provided directory effectively replace <code>bundle exec</code>; if you include the directory in your <code>PATH</code>, you can avoid using <code>bundle exec</code>.</p>
<div class="alert-box warning">
<p>The <code>binstubs</code> feature only installs wrappers for the Gems listed by <code>Gemfile.lock</code>. It skips executables for unlisted Gems. This can be an issue with Gems that you don't require in your apps, but use externally. For example, Rubocop and Pry. For the time being, we recommend sticking with <code>bundle exec</code> and not worrying about <code>binstubs</code>; it's mostly mentioned here in case you're debugging a tricky issue and that's one place to double check.</p>
</div>
<h2><a href="#whenthingsgowrong" name="whenthingsgowrong">When Things Go Wrong</a></h2>
<p>In all likelihood, you will use Bundler to solve problems; it won't usually create problems. However, that doesn't mean that things won't go wrong.</p>
<p>We've already talked about one major problem that you will surely encounter:</p>
<pre class="language-plaintext" data-numbers="off"><code class="language-plaintext">Gem::LoadError: You have already activated ...
</code></pre>
<p>This error merely tells you that you need to use <code>bundle exec</code> to run the command.</p>
<p>Another common issue occurs when you try to run your app, and you get something like this:</p>
<pre class="language-plaintext" data-numbers="off"><code class="language-plaintext">in `require': cannot load such file -- colorize (LoadError)
</code></pre>
<p>This message means that <code>bundler/setup</code> can't find the named Gem (<code>colorize</code> here). However, you've confirmed that the Gem is installed, has the proper permissions, and you're using the proper version of Ruby and the <code>gem</code> command. The problem here is that the <code>Gemfile.lock</code> file doesn't list the <code>colorize</code> Gem; <code>bundler/setup</code> insists that your <code>Gemfile.lock</code> contains all needed Gems. To add this Gem to yours, add it to your <code>Gemfile</code>, then run <code>bundle install</code> again to generate a new <code>Gemfile.lock</code> file.</p>
<p>Another potential issue is that you may use the wrong version of the <code>bundler</code> command. Remember that Bundler is a RubyGem, and every Ruby version on your system has its own Gems; this includes the <code>bundle</code> command. If you use <code>bundle</code> from version 2.2.2 of Ruby when you mean to use Ruby 2.3.1, you may end up with unexpected results. For instance, if your <code>Gemfile</code> lists a specific version of a Gem that only runs under Ruby 2.3.0 or higher, the <code>bundle</code> command will fail to find a Gem that meets that requirement. Make sure you use the correct version of <code>bundle</code>.</p>
<p>Here are some more things to try if problems continue:</p>
<ul>
<li>
<p>Remove your <code>Gemfile.lock</code> and run <code>bundle install</code> again. This creates a new <code>Gemfile.lock</code> file.</p>
</li>
<li>
<p>Remove the <code>.bundle</code> directory and its contents from your project directory and run <code>bundle install</code> again.</p>
</li>
<li>
<p>If you're using the <code>binstubs</code> feature, remove the directory used by <code>binstubs</code> and run <code>bundle install --binstubs</code> again. Don't do this if you aren't using <code>binstubs</code>.</p>
</li>
<li>
<p>Remove and reinstall Bundler:</p>
<pre class="language-terminal" data-numbers="off"><code class="language-terminal">$ gem uninstall bundler
$ gem install bundler
</code></pre>
</li>
<li>
<p>If <code>gem list</code> shows that either <code>rubygems-bundler</code> or <code>open_gem</code> are installed, uninstall them. These old Gems are incompatible with Bundler. Repeat the above items if you remove either Gem.</p>
</li>
<li>
<p>Issue this command in the command line from your app's top-level directory:</p>
<pre class="language-terminal" data-numbers="off"><code class="language-terminal">$ rm Gemfile.lock ; DEBUG_RESOLVER=1 bundle install
</code></pre>
<p>This command removes the <code>Gemfile.lock</code> file, then runs <code>bundle install</code> while producing debug information. You can use the debug information to see how Bundler resolves each Gem. This can be valuable when you aren't sure if your app is loading the correct Gems. Note that you must include the <code>rm Gemfile.lock</code> part; this mode only produces useful output when <code>Gemfile.lock</code> doesn't exist. For additional information on how Bundler's "resolver" works, see <a href="http://patshaughnessy.net/2011/9/24/how-does-bundler-bundle">How Does Bundler Bundle</a>.</p>
</li>
</ul>
<h2><a href="#moreinfobundler" name="moreinfobundler">More Info About Bundler</a></h2>
<p>For a little bit of history about Ruby, RubyGems, and Bundler, check out <a href="https://www.cloudcity.io/blog/2015/07/10/how-bundler-works-a-history-of-ruby-dependency-management/">this informative article</a>.</p>
<h2><a href="#summary" name="summary">Summary</a></h2>
<p>Bundler lets you describe exactly which Ruby and Gems you want to use with your Ruby apps. Specifically, it lets you install multiple versions of each Gem under a specific version of Ruby and then use the proper version in your app.</p>
<p>Bundler is a RubyGem, so you must install it like a normal Gem: <code>gem install bundler</code>.</p>
<p>To use Bundler, you provide a file named <code>Gemfile</code> that describes the Ruby and Gem versions you want for your app. You use a DSL described on the <a href="http://bundler.io/v1.13/gemfile.html">Bundler website</a> to provide this information.</p>
<p>Bundler uses the <code>Gemfile</code> to generate a <code>Gemfile.lock</code> file via the <code>bundle install</code> command. <code>Gemfile.lock</code> describes the actual versions of each Gem that your app needs, including any Gems that the Gems listed in <code>Gemfile</code> depend on. The <code>bundler/setup</code> package tells your Ruby program to use <code>Gemfile.lock</code> to determine which Gem versions it should load.</p>
<p>The <code>bundle exec</code> command ensures that executable programs installed by Gems don't interfere with your app's requirements. For instance, if your app needs a specific version of <code>rake</code> but the default version of <code>rake</code> differs, <code>bundle exec</code> ensures that you can still run the specific <code>rake</code> version compatible with your app.</p>
<p>In the next chapter, we'll take a look at Rake, Ruby's answer to the long time Unix development tool, Make. Rake lets you automate a lot of tasks common to many Ruby development projects.</p>
</div>
<div class="next_chapter">
<a href="./LaunchBooks/Core Ruby Tools/5.html">Next:  Rake
<i class="fa fa-chevron-right"></i>
</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<div id="footer">
<div class="row">
<div class="columns small-12">
<footer>
<nav class="nav clearfix full-width-background">
<div class="hr"></div>
<ul class="links">
<li><a href="https://medium.com/launch-school" target="_blank">Medium Publication</a></li>
<li><a href="/books" target="_blank">Open Bookshelf</a></li>
<li><a href="https://podcast.launchschool.com" target="_blank">Our Podcast</a></li>
</ul>
<ul class="social-buttons right">
<a href="https://www.facebook.com/launchschoolonline/"><li class="facebook">
<i class="fa fa-facebook"></i>
</li>
</a><a href="https://twitter.com/launchschool"><li class="twitter">
<i class="fa fa-twitter"></i>
</li>
</a></ul>
<ul class="links right">
<li><a href="mailto:hello@launchschool.com">hello@launchschool.com</a></li>
</ul>
<div class="copyright">
© Copyright 2022 Launch School - All Rights Reserved.
</div>
</nav>
</footer>
</div>
</div>
</div>
</div>
<script type="text/javascript">
<!-- * <![CDATA[ */ -->
var google_conversion_id = 1017054330;
var google_custom_params = window.google_tag_params;
var google_remarketing_only = true;
<!-- * ]]> */ -->
</script>
<script src="https://www.googleadservices.com/pagead/conversion.js" type="text/javascript">
</script>
<noscript>
<div style="display:inline;">
<img alt="" height="1" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/1017054330/?value=0&amp;guid=ON&amp;script=0" style="border-style:none;" width="1"/>
</div>
</noscript>
<!-- END - Google Code for Remarketing Tag -->
<img alt="" height="1" id="adwords_track_code" src="" style="visibility:hidden;" width="1"/>
</body>
</html>
